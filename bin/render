#!/usr/bin/env ruby
require 'erb'

def render_partial(file_name)
  File.read("views/partials/#{file_name}.erb")
end

def render_template(file_name)
  template = File.read("views/#{file_name}.erb")
  renderer = ERB.new(template, trim_mode: '%<>')
  output = renderer.result(binding)
  File.write("#{file_name}.html", output)  # Write output to HTML file
end

# Filter to get .erb files (but not contents of partials/ directory)
main_files = `ls views`.split.select do |file|
  file.match?(/.erb$/)
end

main_files.each do |file|
  file_name, _ = file.split(".")
  render_template(file_name)
end
